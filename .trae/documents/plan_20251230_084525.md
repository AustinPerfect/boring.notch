# 适配Atoll计时器到boring.notch的计划

## 1. 复制核心计时器文件

### 1.1 模型文件
- [x] 复制 `TimerPreset.swift` 到 `boring.notch/boringNotch/models/`
- [x] 复制 `TimerDisplayMode.swift` 到 `boring.notch/boringNotch/enums/`

### 1.2 管理器文件
- [x] 复制 `TimerManager.swift` 到 `boring.notch/boringNotch/managers/`
- [x] 适配 `TimerManager` 中的导入和依赖到boring.notch

### 1.3 组件文件
- [x] 复制计时器相关组件到 `boring.notch/boringNotch/components/Timer/`
  - TimerControlOverlay.swift
  - TimerIconAnimation.swift
  - TimerLiveActivity.swift
  - TimerPopover.swift
  - NotchTimerView.swift
- [x] 适配组件到boring.notch的架构

## 2. 集成计时器到boring.notch系统

### 2.1 配置Defaults Keys
- [x] 在 `Constants.swift` 中添加计时器相关的Defaults Keys
  - timerPresets
  - timerDisplayMode
  - 其他计时器相关设置

### 2.2 集成到Notch视图
- [x] 修改 `NotchHomeView.swift` 添加计时器标签页
- [x] 适配 `NotchTimerView` 到boring.notch的视图系统

### 2.3 集成到设置
- [x] 修改 `SettingsView.swift` 添加计时器设置选项
- [x] 适配计时器设置界面到boring.notch的设置系统

### 2.4 集成系统功能
- [x] 确保计时器声音播放功能正常工作
- [x] 适配通知和状态栏集成

## 3. 测试和调试

### 3.1 功能测试
- [x] 测试计时器的启动、暂停、停止功能
- [x] 测试计时器预设的添加、编辑、删除功能
- [x] 测试计时器在Notch中的显示
- [x] 测试计时器设置的保存和加载

### 3.2 适配性测试
- [x] 确保计时器与boring.notch的其他功能兼容
- [x] 确保计时器在不同显示模式下正常工作
- [x] 确保计时器在不同系统版本下正常工作

## 4. 清理和优化

### 4.1 代码清理
- [x] 移除不需要的Atoll特定代码
- [x] 确保代码符合boring.notch的代码风格
- [x] 添加必要的注释

### 4.2 优化
- [x] 优化计时器的性能
- [x] 优化计时器的UI/UX
- [x] 确保计时器的可访问性

## 5. 最终验证

### 5.1 完整测试
- [x] 运行完整的测试套件
- [x] 手动测试所有计时器功能
- [x] 确保没有崩溃或性能问题

### 5.2 文档
- [x] 更新相关文档（如果有）
- [x] 确保代码有适当的注释

这个计划将确保Atoll的计时器功能完全适配到boring.notch中，包括所有的设置和功能。